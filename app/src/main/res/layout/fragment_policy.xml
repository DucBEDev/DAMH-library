<?xml version="1.0" encoding="utf-8"?>
<!-- Lưu vào res/layout/fragment_borrowing_policy.xml -->
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#F5F5F5"
    android:fillViewport="true">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <!-- Header -->
        <LinearLayout
            android:id="@+id/llHeader"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:padding="16dp"
            android:gravity="center_vertical"
            android:background="@android:color/white"
            android:elevation="4dp"
            app:layout_constraintTop_toTopOf="parent">

            <ImageButton
                android:id="@+id/btnBack"
                android:layout_width="40dp"
                android:layout_height="40dp"
                android:src="@drawable/ic_arrow_back"
                android:background="?attr/selectableItemBackgroundBorderless"
                android:contentDescription="Quay lại"
                app:tint="#333333" />

            <TextView
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_weight="1"
                android:text="Chính Sách Mượn Trả"
                android:textSize="20sp"
                android:textStyle="bold"
                android:textColor="#333333"
                android:gravity="center"
                android:layout_marginEnd="40dp" />

        </LinearLayout>

        <!-- Hero Banner -->
        <com.google.android.material.card.MaterialCardView
            android:id="@+id/cardHero"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            app:cardCornerRadius="16dp"
            app:cardElevation="8dp"
            app:layout_constraintTop_toBottomOf="@id/llHeader">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:background="@drawable/gradient_policy_header"
                android:padding="24dp"
                android:gravity="center">

                <ImageView
                    android:layout_width="80dp"
                    android:layout_height="80dp"
                    android:src="@drawable/ic_policy"
                    app:tint="@android:color/white"
                    android:contentDescription="Policy Icon" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Quy định mượn và trả sách"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:textColor="@android:color/white"
                    android:layout_marginTop="12dp"
                    android:gravity="center" />

                <TextView
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text="Vui lòng đọc kỹ để tránh vi phạm"
                    android:textSize="13sp"
                    android:textColor="@android:color/white"
                    android:alpha="0.9"
                    android:layout_marginTop="4dp" />

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Quy định mượn sách -->
        <com.google.android.material.card.MaterialCardView
            android:id="@+id/cardBorrowRules"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            android:layout_marginTop="8dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp"
            app:layout_constraintTop_toBottomOf="@id/cardHero">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <ImageView
                        android:layout_width="32dp"
                        android:layout_height="32dp"
                        android:src="@drawable/ic_book_borrow"
                        app:tint="@color/teal_700" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Quy định mượn sách"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:textColor="#333333"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <View
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    android:background="#EEEEEE"
                    android:layout_marginVertical="16dp" />

                <!-- Rule 1 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <TextView
                        android:layout_width="28dp"
                        android:layout_height="28dp"
                        android:text="1"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="@android:color/white"
                        android:background="@drawable/bg_number_badge"
                        android:gravity="center" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Mỗi độc giả được mượn tối đa 3 cuốn sách cùng lúc"
                        android:textSize="14sp"
                        android:textColor="#333333"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <!-- Rule 2 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <TextView
                        android:layout_width="28dp"
                        android:layout_height="28dp"
                        android:text="2"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="@android:color/white"
                        android:background="@drawable/bg_number_badge"
                        android:gravity="center" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Thời hạn mượn sách tối đa là 15 ngày kể từ ngày mượn"
                        android:textSize="14sp"
                        android:textColor="#333333"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <!-- Rule 3 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <TextView
                        android:layout_width="28dp"
                        android:layout_height="28dp"
                        android:text="3"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="@android:color/white"
                        android:background="@drawable/bg_number_badge"
                        android:gravity="center" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Chỉ được mượn thêm sách khi không có sách nào đang quá hạn"
                        android:textSize="14sp"
                        android:textColor="#333333"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <!-- Rule 4 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <TextView
                        android:layout_width="28dp"
                        android:layout_height="28dp"
                        android:text="4"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="@android:color/white"
                        android:background="@drawable/bg_number_badge"
                        android:gravity="center" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Thẻ độc giả phải còn hiệu lực để được mượn sách"
                        android:textSize="14sp"
                        android:textColor="#333333"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <!-- Rule 5 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:gravity="center_vertical"
                    android:orientation="horizontal">

                    <TextView
                        android:layout_width="28dp"
                        android:layout_height="28dp"
                        android:text="5"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="@android:color/white"
                        android:background="@drawable/bg_number_badge"
                        android:gravity="center" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Có thể gia hạn thêm 1 lần (7 ngày) nếu không có độc giả khác đặt trước"
                        android:textSize="14sp"
                        android:textColor="#333333"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Quy định trả sách -->
        <com.google.android.material.card.MaterialCardView
            android:id="@+id/cardReturnRules"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            android:layout_marginTop="8dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp"
            app:layout_constraintTop_toBottomOf="@id/cardBorrowRules">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <ImageView
                        android:layout_width="32dp"
                        android:layout_height="32dp"
                        android:src="@drawable/ic_book_return"
                        app:tint="@color/teal_700" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Quy định trả sách"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:textColor="#333333"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <View
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    android:background="#EEEEEE"
                    android:layout_marginVertical="16dp" />

                <!-- Rule 1 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <TextView
                        android:layout_width="28dp"
                        android:layout_height="28dp"
                        android:text="1"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="@android:color/white"
                        android:background="@drawable/bg_number_badge"
                        android:gravity="center" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Sách phải được trả đúng hạn, tại quầy thư viện hoặc qua hệ thống tự động"
                        android:textSize="14sp"
                        android:textColor="#333333"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <!-- Rule 2 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical"
                    android:layout_marginBottom="16dp">

                    <TextView
                        android:layout_width="28dp"
                        android:layout_height="28dp"
                        android:text="2"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="@android:color/white"
                        android:background="@drawable/bg_number_badge"
                        android:gravity="center" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Sách phải được giữ gìn nguyên vẹn, không rách, không bẩn, không viết vẽ"
                        android:textSize="14sp"
                        android:textColor="#333333"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <!-- Rule 3 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:gravity="center_vertical"
                    android:orientation="horizontal">

                    <TextView
                        android:layout_width="28dp"
                        android:layout_height="28dp"
                        android:text="3"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="@android:color/white"
                        android:background="@drawable/bg_number_badge"
                        android:gravity="center" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Khi trả sách, thủ thư sẽ kiểm tra tình trạng sách trước khi xác nhận hoàn trả"
                        android:textSize="14sp"
                        android:textColor="#333333"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Phạt và bồi thường -->
        <com.google.android.material.card.MaterialCardView
            android:id="@+id/cardPenalty"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            android:layout_marginTop="8dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp"
            app:layout_constraintTop_toBottomOf="@id/cardReturnRules">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="20dp">

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:gravity="center_vertical">

                    <ImageView
                        android:layout_width="32dp"
                        android:layout_height="32dp"
                        android:src="@drawable/ic_warning"
                        app:tint="#FF5722" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Phạt và bồi thường"
                        android:textSize="18sp"
                        android:textStyle="bold"
                        android:textColor="#333333"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <View
                    android:layout_width="match_parent"
                    android:layout_height="1dp"
                    android:background="#EEEEEE"
                    android:layout_marginVertical="16dp" />

                <!-- Penalty 1 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="20dp"
                        android:layout_height="20dp"
                        android:src="@drawable/ic_error"
                        app:tint="#FF5722" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Trả trễ: Phạt 5.000đ/ngày/sách"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="#D32F2F"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <!-- Penalty 2 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="20dp"
                        android:layout_height="20dp"
                        android:src="@drawable/ic_error"
                        app:tint="#FF5722" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Làm hỏng sách: Bồi thường 200% giá trị sách hoặc mua sách mới cùng loại"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="#D32F2F"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <!-- Penalty 3 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginBottom="16dp">

                    <ImageView
                        android:layout_width="20dp"
                        android:layout_height="20dp"
                        android:src="@drawable/ic_error"
                        app:tint="#FF5722" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Làm mất sách: Bồi thường 300% giá trị sách và thẻ độc giả sẽ bị khóa"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="#D32F2F"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

                <!-- Penalty 4 -->
                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal">

                    <ImageView
                        android:layout_width="20dp"
                        android:layout_height="20dp"
                        android:src="@drawable/ic_error"
                        app:tint="#FF5722" />

                    <TextView
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:text="Quá hạn trên 30 ngày: Thẻ độc giả sẽ bị tạm khóa cho đến khi hoàn trả và thanh toán phí phạt"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="#D32F2F"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginStart="12dp" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

        <!-- Lưu ý quan trọng -->
        <com.google.android.material.card.MaterialCardView
            android:id="@+id/cardNote"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="16dp"
            android:layout_marginTop="8dp"
            android:layout_marginBottom="24dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp"
            app:cardBackgroundColor="#FFF3E0"
            app:layout_constraintTop_toBottomOf="@id/cardPenalty"
            app:layout_constraintBottom_toBottomOf="parent">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:padding="16dp"
                android:gravity="top">

                <ImageView
                    android:layout_width="24dp"
                    android:layout_height="24dp"
                    android:src="@drawable/ic_info"
                    app:tint="#FF6F00" />

                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:layout_marginStart="12dp">

                    <TextView
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Lưu ý quan trọng"
                        android:textSize="14sp"
                        android:textStyle="bold"
                        android:textColor="#E65100" />

                    <TextView
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:text="• Thẻ bị khóa do mất sách chỉ được mở lại sau khi hoàn tất bồi thường\n• Có thể liên hệ thủ thư để được tư vấn về quy định\n• Thư viện có quyền thay đổi chính sách khi cần thiết"
                        android:textSize="13sp"
                        android:textColor="#E65100"
                        android:lineSpacingExtra="4dp"
                        android:layout_marginTop="8dp" />

                </LinearLayout>

            </LinearLayout>

        </com.google.android.material.card.MaterialCardView>

    </androidx.constraintlayout.widget.ConstraintLayout>

</ScrollView>